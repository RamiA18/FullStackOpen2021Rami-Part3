{"version":3,"sources":["components/HeaderTwo.js","components/Filter.js","components/HeaderThree.js","components/PersonForm.js","components/Button.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["HeaderTwo","text","filter","props","value","onChange","handleChange","HeaderThree","PersonForm","title","onSubmit","submitAction","nameValue","nameChangeHandling","numberValue","numberChangeHandling","className","type","Button","onClickEvent","buttonText","onClick","Person","name","number","id","onClickFunction","Persons","persons","handleDelete","map","person","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","messageType","messageText","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filterQuery","setFilterQuery","notification","setNotification","useEffect","personServices","people","setTimeout","personsToShow","toLowerCase","includes","errorMessage","errorType","Filter","event","target","preventDefault","personObject","existingPerson","find","undefined","window","confirm","updatedPerson","catch","error","p","newPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6d35234d.chunk.js","sourcesContent":["import React from \"react\";\n\nconst HeaderTwo = ({ text }) => {\n  return <h2> {text} </h2>;\n};\n\nexport default HeaderTwo;\n","import React from \"react\";\n\nconst filter = (props) => {\n  return (\n    <div>\n      {\" \"}\n      Search Person: <input\n        value={props.value}\n        onChange={props.handleChange}\n      />{\" \"}\n    </div>\n  );\n};\n\nexport default filter;\n","import React from \"react\";\n\nconst HeaderThree = ({ text }) => {\n  return <h3> {text} </h3>;\n};\n\nexport default HeaderThree;\n","import React from \"react\";\nimport HeaderThree from \"./HeaderThree\";\n\nconst PersonForm = (props) => {\n  return (\n    <div>\n      <HeaderThree text={props.title} />\n      <form onSubmit={props.submitAction}>\n        <div>\n          name:{\" \"}\n          <input value={props.nameValue} onChange={props.nameChangeHandling} />\n        </div>\n        <div>\n          number:{\" \"}\n          <input\n            value={props.numberValue}\n            onChange={props.numberChangeHandling}\n          />\n        </div>\n        <div>\n          <button className=\"btn btn-primary btn-small\" type=\"submit\">\n            add\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Button = ({ onClickEvent, buttonText }) => {\n  return (\n    <button className=\"btn btn-warning btn-sm\" onClick={onClickEvent}>\n      {\" \"}\n      {buttonText}{\" \"}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\nimport Button from \"./Button\";\n\nconst Person = ({ name, id, number, onClickFunction }) => {\n  return (\n    <p>\n      {\" \"}\n      {name} {number}{\" \"}\n      <Button onClickEvent={onClickFunction} buttonText=\"Delete\" />\n    </p>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport HeaderThree from \"./HeaderThree\";\nimport Person from \"./Person\";\n\nconst Persons = ({ title, persons, handleDelete }) => {\n  return (\n    <div>\n      <HeaderThree text={title} />\n      {persons.map((person) => (\n        <Person\n          key={person.id}\n          name={person.name}\n          number={person.number}\n          onClickFunction={() => handleDelete(person.id, person.name)}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject).then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  return axios\n    .put(`${baseUrl}/${id}`, newObject)\n    .then((response) => response.data);\n};\n\nconst deleteData = (id) => {\n  return axios.delete(`${baseUrl}/${id}`).then((response) => response.data);\n};\n\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  deleteData: deleteData,\n};\n","import React from \"react\";\n\nconst Notification = ({ message, messageType, messageText }) => {\n  if (message === \"\") {\n    return null;\n  }\n\n  return (\n    <div\n      className={\n        messageType === \"rejected\"\n          ? \"alert alert-danger\"\n          : \"alert alert-success\"\n      }\n    >\n      {messageText}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport HeaderTwo from \"./components/HeaderTwo.js\";\nimport Filter from \"./components/Filter.js\";\nimport PersonForm from \"./components/PersonForm.js\";\nimport Persons from \"./components/Persons.js\";\nimport personServices from \"./services/persons.js\";\nimport Notification from \"./components/Notification.js\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./index.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterQuery, setFilterQuery] = useState(\"\");\n  const [notification, setNotification] = useState(\"\");\n\n  useEffect(() => {\n    personServices.getAll().then((people) => {\n      setPersons(people);\n    });\n  }, []);\n\n  useEffect(() => {\n    setTimeout(() => setNotification(\"\"), 5000);\n  }, [notification]);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setFilterQuery(event.target.value);\n  };\n\n  const handleDelete = (id, name) => {\n    if (window.confirm(`are you sure you want to delete ${name}?`)) {\n      personServices.deleteData(id).then(() => {\n        setPersons(persons.filter((person) => person.id !== id));\n        setNotification({\n          errorMessage: \"the person has been deleted\",\n          errorType: \"rejected\",\n        });\n      });\n    }\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n    const existingPerson = persons.find((person) => person.name === newName);\n\n    if (existingPerson !== undefined) {\n      if (\n        window.confirm(\n          `${newName} is already in the phonebook, do you want to update the information?`\n        )\n      ) {\n        personServices\n          .update(existingPerson.id, personObject)\n          .then((updatedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id === updatedPerson.id ? updatedPerson : person\n              )\n            );\n            setNotification({\n              errorMessage: `${newName} has been modified`,\n              errorType: \"accepted\",\n            });\n          })\n          .catch((error) => {\n            setNotification({\n              errorMessage: `${newName} has been deleted already from the server`,\n              errorType: \"rejected\",\n            });\n            setPersons(persons.filter((p) => p.name !== newName));\n          });\n      }\n    } else {\n      personServices.create(personObject).then((newPerson) => {\n        setPersons(persons.concat(newPerson));\n        setNotification({\n          errorMessage: `${newName} has been added`,\n          errorType: \"accepted\",\n        });\n\n        // setTimeout(() => setNotification(''), 5000);\n        // setNewName(\"\");\n        // setNewNumber(\"\");\n      });\n    }\n  };\n\n  const personsToShow =\n    filterQuery === \"\"\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(filterQuery.toLowerCase())\n        );\n\n  return (\n    <div className=\"container\">\n      <HeaderTwo text=\"PhoneBook\" />\n      <Notification\n        message={notification}\n        messageText={notification.errorMessage}\n        messageType={notification.errorType}\n      />\n      <Filter value={filterQuery} handleChange={handleFilterChange} />\n      <PersonForm\n        title=\"Add New\"\n        submitAction={addPerson}\n        nameValue={newName}\n        nameChangeHandling={handleNameChange}\n        numberValue={newNumber}\n        numberChangeHandling={handleNumberChange}\n      />\n      <Persons\n        title=\"Numbers\"\n        persons={personsToShow}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}